!function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};t.m=n;t.c=i;t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})};t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})};t.t=function(n,i){var r,u;if((1&i&&(n=t(n)),8&i)||4&i&&"object"==typeof n&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r};t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i};t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};t.p="";t(t.s=3)}([function(n){var t=window.iframely=window.iframely||{};t.config=t.config||{};n.exports=t},function(n,t,i){function o(n){for(var t,u,i=0,r=0;r<n.childNodes.length;r++)t=n.childNodes[r],t.nodeType===Node.TEXT_NODE?(u=t.textContent||t.innerText,(u=u.replace(/\s|\n/g,""))&&i++):t.nodeType===Node.ELEMENT_NODE&&i++;return i}function s(n,t){for(var i,r=0;r<n.length;){if((i=n[r])==t||i&&i.test&&i.test(t))return!0;r++}}var r=i(0),h=i(2),e,u,f;r.on("init",function(){r.extendOptions(function(){for(var i,n,e,u=document.querySelectorAll('script[src*="embed.js"], script[src*="iframely.js"]'),t=0;t<u.length;t++)if(i=u[t].getAttribute("src").replace(/&amp;/gi,"&"),r.SCRIPT_RE.test(i)&&(n=f(i,r.SUPPORTED_QUERY_STRING.concat("cdn")),e=i.match(r.CDN_RE),(e||n.cdn)&&(r.CDN=n.cdn||e[1]),Object.keys(n).length>0))return n;return{}}()),function(){var n=document.getElementById("iframely-styles"),t;n||(t=".iframely-responsive{top:0;left:0;width:100%;height:0;position:relative;padding-bottom:56.25%;box-sizing:border-box;}.iframely-responsive>*{top:0;left:0;width:100%;height:100%;position:absolute;border:0;box-sizing:border-box;}",(n=document.createElement("style")).id="iframely-styles",n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n))}(),function(n){for(var u,f,i=document.querySelectorAll('iframe[src*="'+(n||r.DOMAINS).join('"], iframe[src*="')+'"]'),t=0;t<i.length;t++)u=i[t],f=u.src,(f.match(/^(https?:)?\/\/[^\/]+\/api\/iframe\?.+/)||f.match(/^(https?:)?\/\/[^\/]+\/\w+(\?.*)?$/))&&h.postMessage({method:"getSize"},"*",u.contentWindow)}(r.DOMAINS.concat(r.CDN.replace(/^https?:\/\//,"")))});r.load=function(){var n=Array.prototype.slice.call(arguments);n.unshift("load");r.trigger.apply(this,n)};e=t.getIframeWrapper=function(n,t){var i=n.parentNode,u;if(!(!i||"DIV"!==i.nodeName||o(i)>2||t&&i.getAttribute("class")!==r.ASPECT_WRAPPER_CLASS||!t&&"relative"!==i.style.position&&i.getAttribute("class")!==r.ASPECT_WRAPPER_CLASS)&&(u=i.parentNode,!(!u||"DIV"!==u.nodeName||o(u)>1||t&&u.getAttribute("class")!==r.MAXWIDTH_WRAPPER_CLASS||!t&&u.getAttribute("class")&&!u.getAttribute("class").match(/iframely/i))))return{aspectWrapper:i,maxWidthWrapper:u}};t.addDefaultWrappers=function(n){var u=n.parentNode,t=document.createElement("div"),i;return t.className=r.MAXWIDTH_WRAPPER_CLASS,i=document.createElement("div"),i.className=r.ASPECT_WRAPPER_CLASS,t.appendChild(i),u.insertBefore(t,n),{aspectWrapper:i,maxWidthWrapper:t}};t.getWidget=function(n){var i=e(n),t,r;if(i)return t={iframe:n,aspectWrapper:i.aspectWrapper,maxWidthWrapper:i.maxWidthWrapper},"A"===n.nodeName&&n.hasAttribute("href")?t.url=n.getAttribute("href"):n.hasAttribute("src")&&/url=/.test(n.getAttribute("src"))&&(r=f(n.getAttribute("src")),r.url&&(t.url=r.url)),t};r.getElementComputedStyle=function(n,t){return window.getComputedStyle&&window.getComputedStyle(n).getPropertyValue(t)};t.setStyles=function(n,t){n&&Object.keys(t).forEach(function(i){var u=t[i],f;("number"==typeof u||"string"==typeof u&&/^(\d+)?\.?(\d+)$/.test(u))&&(u+="px");f=n.style[i];window.getComputedStyle&&(r.getElementComputedStyle(n,i)==u||"iframely-responsive"==n.className&&"paddingBottom"===i&&!f&&/^56\.2\d+%$/.test(u)||"max-width"===i&&"keep"===u)||(n.style[i]=u||"")})};u=t.addQueryString=function(n,t){var i="";return Object.keys(t).forEach(function(r){var u=t[r],f;"[object Array]"===Object.prototype.toString.call(u)?(f=u.map(function(n){return r+"="+encodeURIComponent(n)}),i+="&"+f.join("&")):void 0!==u&&-1===n.indexOf(r+"=")&&(!0===u&&(u=1),!1===u&&(u=0),i+="&"+r+"="+encodeURIComponent(u))}),n+(""!==i?(n.indexOf("?")>-1?"&":"?")+i.replace(/^&/,""):"")};t.getEndpoint=function(n,t,i){var f=n,e;if(/^(https?:)?\/\//i.test(n)||(f=(t.CDN||r.CDN)+f,delete t.CDN),/^(?:https?:)?\/\//i.test(f)||(f="//"+f),t&&(f=u(f,t)),i&&i.length){for(var h={},c=Object.keys(r.config),o=0;o<c.length;o++)e=c[o],s(i,e)&&(h[e]=r.config[e]);f=u(f,h)}return/^(https?:)?\/\//i.test(f)&&!f.match(/^(https?:)?\/\//i)[1]&&"file:"===document.location.protocol&&(f="http:"+f),f};r.extendOptions=function(n){n&&Object.keys(n).forEach(function(t){var i=0!==n[t]&&"0"!==n[t]&&!1!==n[t]&&"false"!==n[t]&&(1===n[t]||"1"===n[t]||!0===n[t]||"true"===n[t]||n[t]);!1!==r.config[t]&&(r.config[t]=i)})};f=t.parseQueryString=function(n,t){var r=n.match(/\?(.+)/i),i;if(r){for(var f=(r=r[1]).split("&"),e={},u=0;u<f.length;u++)i=f[u].split("="),t&&!s(t,i[0])||(e[i[0]]=decodeURIComponent(i[1]));return e}return{}}},function(n,t,i){function u(n,t){for(var r,u,i=0;i<n.length&&!r;i++)u=n[i],u.contentWindow===t&&(r=u);return r}var r=i(0),f=i(1);!function(n){function t(t){var i;try{i=JSON.parse(t.data)}catch(n){}n(t,i)}window.postMessage&&(window.addEventListener?window[n?"addEventListener":"removeEventListener"]("message",t,!1):window[n?"attachEvent":"detachEvent"]("onmessage",t))}(function(n,t){var e,i;t&&t.method&&(e=function(n){var t;return n.src&&(t=u(document.querySelectorAll('iframe[src*="'+n.src.replace(/^https?:/,"")+'"]'),n.contentWindow)),t||(t=u(n.domains?document.querySelectorAll('iframe[src*="'+(n.domains||r.DOMAINS).join('"], iframe[src*="')+'"]'):document.getElementsByTagName("iframe"),n.contentWindow)),t}({contentWindow:n.source,src:t.context,domains:r.DOMAINS.concat(r.CDN)}),e&&(i=f.getWidget(e),i&&t.url&&(i.url=t.url),r.trigger("message",i,t)))});t.postMessage=function(n,t,i){window.postMessage&&("object"==typeof n&&(n.context=document.location.href),n=JSON.stringify(n),t=t||"*",(i=i||window.parent).postMessage(n,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")))}},function(n,t,i){i(4);var r=i(0);r._loaded||(r._loaded=!0,i(5),i(6),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),r.trigger("init"));t.iframely=r},function(n,t,i){var r,u=i(0);r=function(){u.trigger("load")};"complete"!==document.readyState&&"interactive"!==document.readyState||setTimeout(r,0);document.addEventListener?document.addEventListener("DOMContentLoaded",r):window.attachEvent("onload",r)},function(n,t,i){var r=i(0);r.VERSION=1;r.ASPECT_WRAPPER_CLASS="iframely-responsive";r.MAXWIDTH_WRAPPER_CLASS="iframely-embed";r.LOADER_CLASS="iframely-loader";r.DOMAINS=["cdn.iframe.ly","iframe.ly","if-cdn.com","iframely.net",];r.CDN=r.CDN||r.DOMAINS[0];r.BASE_RE=/^(?:https?:)?\/\/[^\/]+/i;r.ID_RE=/^(?:https?:)?\/\/[^\/]+\/(\w+)(?:\?.*)?$/;r.SCRIPT_RE=/^(?:https?:|file:\/)?\/\/[^\/]+(?:.+)?\/(?:embed|iframely)\.js(?:[^\/]+)?$/i;r.CDN_RE=/^(?:https?:)?\/\/([^\/]+)\/(?:embed|iframely)\.js(?:[^\/]+)?$/i;r.SUPPORTED_QUERY_STRING=["api_key","key","iframe","html5","playerjs","align","language","media","maxwidth","maxheight","lazy","import","parent","click_to_play","autoplay","mute",/^_.+/,];r.LAZY_IFRAME_SHOW_TIMEOUT=3e3;r.LAZY_IFRAME_FADE_TIMEOUT=200;r.CLEAR_WRAPPER_STYLES_TIMEOUT=3e3},function(n,t,i){(function(n){function u(n,i,u){(r[n]||[]).forEach(function(n){i?f(function(){n.apply(t,u)}):n.apply(t,u)});"init"===n&&(r[n]=[])}var t=i(0),f=function(n,t,i,r){for(;!r&&i<t.length;)r=n[t[i++]+"equestAnimationFrame"];return r&&r.bind(n)||n.setImmediate||function(t){n.setTimeout(t,0)}}("undefined"!=typeof window?window:n,"r webkitR mozR msR oR".split(" "),0),r={};t.on=function(n,t){(r[n]=r[n]||[]).push(t)};t.trigger=function(n){u(n,!1,Array.prototype.slice.call(arguments,1))};t.triggerAsync=function(n){u(n,!0,Array.prototype.slice.call(arguments,1))}}).call(this,i(7))},function(n){var t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,t,i){var e=i(2),r=i(0),u={},f={};"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&(r.on("init",function(){r.extendOptions({intersection:1})}),r.on("message",function(n,t){var i,r,o;if("send-intersections"===t.method&&n.iframe){if(i=t.options,i||(i={margin:1e3}),r=JSON.stringify(i),o=f[r]=f[r]||[],o.indexOf(n.iframe)>-1)return;o.push(n.iframe),function(n){var i=JSON.stringify(n),t=u[i];return t||(t=new IntersectionObserver(function(t){t.forEach(function(t){e.postMessage({method:"intersection",entry:{isIntersecting:t.isIntersecting},options:n},"*",t.target.contentWindow)})},function(n){var t={};return n&&n.threshold&&(t.threshold=n.threshold),n&&n.margin&&(t.rootMargin=n.margin+"px "+n.margin+"px "+n.margin+"px "+n.margin+"px"),t}(n)),u[i]=t),t}(i).observe(n.iframe)}}))},function(n,t,i){function s(n,t,i){var e,y=n.cancel,p=n.shadow,v=n.renderEvent,h=f.getIframeWrapper(t,!0),u,s,c,l,a;y?(e=f.getWidget(t),r.cancelWidget(e||{maxWidthWrapper:t,iframe:t,url:t.getAttribute("href")})):(((e=document.createElement("div")).innerHTML=n.html,h&&!v?(u=h.aspectWrapper.parentNode,s=h.aspectWrapper,h.maxWidthWrapper.removeAttribute("style")):(u=t.parentNode,s=t),p)?(c=document.createElement("div"),l=c.attachShadow({mode:"open"}),l.appendChild(e),a={shadowRoot:l,shadowContainer:c,container:u,context:n.context,stylesIds:n.stylesIds,stylesDict:i.commonShadowStyles},r.trigger("import-shadow-widget-before-render",a),u.insertBefore(c,s),r.trigger("import-shadow-widget-after-render",a)):(u.insertBefore(e,s),function n(t){function s(n){var r=n.text||n.textContent||n.innerHTML||"",i=document.createElement("script");n.src&&(i.src=n.src);i.type="text/javascript";try{i.appendChild(document.createTextNode(r))}catch(n){i.text=r}t.appendChild(i)}for(var f,r,e,u=[],o=t.childNodes,i=0;o[i];i++)!(e=r=o[i]).nodeName||e.nodeName.toUpperCase()!=="script".toUpperCase()||r.type&&"text/javascript"!==r.type.toLowerCase()&&"application/javascript"!==r.type.toLowerCase()?n(r):(u.push(r),t.removeChild(r));for(i=0;u[i];i++)(f=u[i]).parentNode&&f.parentNode.removeChild(f),s(u[i])}(e)),u.removeChild(s),v&&setTimeout(function(){o(u)},r.CLEAR_WRAPPER_STYLES_TIMEOUT))}function e(){delete r.import;for(var t=document.querySelectorAll("a[data-iframely-url][data-import-uri]"),n=0;n<t.length;n++)t[n].removeAttribute("data-import-uri"),r.trigger("load",t[n])}function o(n){for(var i,t=n,u=0;t&&t.getAttribute("class")!==r.ASPECT_WRAPPER_CLASS;)t=t.parentNode,++u>4&&(t=null);i=t&&t.parentNode;i&&i.getAttribute("class")===r.MAXWIDTH_WRAPPER_CLASS&&(t.removeAttribute("style"),t.removeAttribute("class"),i.removeAttribute("style"))}var f=i(1),r=i(0),u={};r.on("load",function(n){if(!n&&!1!==r.config.import&&document.head.attachShadow&&(r.debug||"http:"===document.location.protocol||"https:"===document.location.protocol)&&!r.config.playerjs&&!r.config.lazy&&!r.import){var t=document.querySelectorAll("a[data-iframely-url]:not([data-import-uri])");t.length>1&&function(n){function l(n,t){u[n]||(u[n]=[]);u[n].push(t)}function a(n){var c=n.getAttribute("data-iframely-url"),v=c.match(r.ID_RE),s=v&&v[1],u=f.parseQueryString(c,r.SUPPORTED_QUERY_STRING.concat("url")),e=u.url,h,a;delete u.url;h="0"===u.import||"false"===u.import||"1"===u.playerjs||"true"===u.playerjs;h||(a=c.match(r.BASE_RE),u.CDN=a&&a[0],t?JSON.stringify(u,Object.keys(u).sort())!==JSON.stringify(t,Object.keys(t).sort())&&(h=!0):t=u);h?r.trigger("load",n):s?(n.setAttribute("data-import-uri",s),-1===o.indexOf(s)&&o.push(s),l(s,n)):(e||(e=n.getAttribute("href")),(t.key||t.api_key||r.config.api_key||r.config.key)&&e?(n.setAttribute("data-import-uri",e),-1===i.indexOf(e)&&i.push(e),l(e,n)):r.trigger("load",n))}for(var h,s=document.createElement("script"),i=[],o=[],t=null,c=0;c<n.length;c++)h=n[c],!h.getAttribute("data-import-uri")&&h.hasAttribute("data-iframely-url")&&a(h);i.length>0||o.length>0?((t=t||{}).touch=r.isTouch(),t.flash=function(){var n=!1;try{n=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){n=!(!navigator.mimeTypes||null==navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}return n}(),t.app=1,i.length>0&&(t.uri=i),o.length>0&&(t.ids=o.join("&")),t.v=r.VERSION,s.src=f.getEndpoint("/api/import/v2",t,r.SUPPORTED_QUERY_STRING),s.onerror=function(){e()},document.head.appendChild(s),r.import=s):(e(),r.trigger("load"))}(t)}});r.on("load",function(n,t){var i,r;if(n&&n.uri&&(n.html||n.cancel)){if(i=u[n.uri],i)for(r=0;r<i.length;r++)s(n,i[r],t);delete u[n.uri]}});r.buildImportWidgets=function(n){r.trigger("import-loaded",n);n.widgets.forEach(function(t){r.trigger("load",t,n)});e()};r.isTouch=function(){return"ontouchstart"in window||navigator.maxTouchPoints};r.on("import-widget-ready",o);r.addEventListener||(r.addEventListener=function(n,t,i){n&&(n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i)})},function(n,t,i){var u=i(1),r=i(0);r.on("load",function(n,t){if(n&&n.nodeName&&"string"==typeof t){var i=document.createElement("a");i.setAttribute("href",t);n.appendChild(i);r.trigger("load",i)}});r.on("load",function(n){if(!n&&!r.import)for(var i=document.querySelectorAll("a[data-iframely-url]:not([data-import-uri])"),t=0;t<i.length;t++)r.trigger("load",i[t])});r.on("load",function(n){n&&"A"===n.nodeName&&(n.getAttribute("data-iframely-url")||n.getAttribute("href"))&&!n.hasAttribute("data-import-uri")&&function(n){var f,e,t,s,o,i;if(n.getAttribute("data-iframely-url")||n.getAttribute("href"))if(e=n.getAttribute("data-iframely-url"),e&&/^((?:https?:)?\/\/[^\/]+)\/\w+/i.test(e)?f=u.getEndpoint(e,{v:r.VERSION,app:1}):(r.config.api_key||r.config.key)&&r.CDN?f=u.getEndpoint("/api/iframe",{url:n.getAttribute("href"),v:r.VERSION,app:1},r.SUPPORTED_QUERY_STRING):console.warn("Iframely cannot build embeds: api key is required as query-string of embed.js"),f){if(t=document.createElement("iframe"),t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay *; encrypted-media *"),n.hasAttribute("data-img")&&t.setAttribute("data-img",n.getAttribute("data-img")),s=n.hasAttribute("data-lazy")||n.hasAttribute("data-img")||/&lazy=1/.test(f)||r.config.lazy,o=n.textContent||n.innerText,o&&""!==o&&(t.textContent=o),i=u.getIframeWrapper(n,!0),i)for(;i.aspectWrapper.lastChild;)i.aspectWrapper.removeChild(i.aspectWrapper.lastChild);else i=u.addDefaultWrappers(n),n.parentNode.removeChild(n);i.aspectWrapper.appendChild(t);s?(t.setAttribute("data-iframely-url",f),r.trigger("load",t)):(t.setAttribute("src",f),r.trigger("iframe-ready",t))}else n.removeAttribute("data-iframely-url")}(n)})},function(n,t,i){function s(n){var t=n.aspectWrapper&&function(n){for(var t,u,i=0,r=0;r<n.childNodes.length;r++)t=n.childNodes[r],t.nodeType===Node.TEXT_NODE?(u=t.textContent||t.innerText,(u=u.replace(/\s|\n/g,""))&&i++):t.nodeType===Node.ELEMENT_NODE&&i++;return i}(n.aspectWrapper)>1&&function(n,t){for(var r,u=0,i=0;i<t.childNodes.length;i++)if(r=t.childNodes[i],r.nodeType!==Node.TEXT_NODE&&r.nodeType===Node.ELEMENT_NODE){if(1===u)return r;u++}}(0,n.aspectWrapper);t&&"DIV"===t.nodeName&&n.aspectWrapper.removeChild(t)}function h(n){for(var t=0;t<u.length&&u[t].widget.iframe!==n.iframe;)t++;if(t<u.length&&u[t].widget.iframe===n.iframe)return t}function o(n){var t=h(n);if(t||0===t)return u[t]}function e(n){this.widget=n;this.loadCount=0;var t=n.iframe,i=this;r.addEventListener(t,"load",function(){i.iframeOnLoad()});this.registerLoadingTimeout();u.push(this)}var f=i(1),r=i(0),u;r.on("load",function(n){if(n&&"IFRAME"===n.nodeName&&n.hasAttribute("data-iframely-url")&&n.hasAttribute("data-img")&&!n.getAttribute("src")){n.removeAttribute("data-img");var i=f.getWidget(n),t=n.getAttribute("data-iframely-url");!function(n,t){var s,i=f.parseQueryString(t),h={},e,u,c,o;for(e in i)0===e.indexOf("_")&&(h[e]=i[e]);if(t.match(/\/api\/iframe/))s=f.getEndpoint(t.match(/^(.+)\/api\/iframe/i)[1]+"/api/thumbnail",Object.assign({url:i.url,api_key:i.api_key,key:i.key},h));else{if(!t.match(/^(?:https?:)?\/\/[^\/]+\/[a-zA-Z0-9]+(?:\?.*)?$/))return;s=f.getEndpoint(t.replace(/^((?:https?:)?\/\/[^\/]+\/[a-zA-Z0-9]+)((\?.*)?)$/,"$1/thumbnail"),h)}u=document.createElement("div");f.setStyles(u,{position:"absolute",width:"100%",height:"100%",backgroundImage:"url('"+s+"')",backgroundSize:"cover",backgroundPosition:"center"});c=document.createElement("div");c.setAttribute("class",r.LOADER_CLASS);u.appendChild(c);var l=r.getElementComputedStyle(n.aspectWrapper,"padding-top"),a=r.getElementComputedStyle(n.aspectWrapper,"padding-bottom"),v=l.match(/^(\d+)px$/);v&&parseInt(v[1])&&a?(o=document.createElement("div"),f.setStyles(o,{top:"-"+l,width:"100%",height:0,position:"relative",paddingBottom:a}),o.appendChild(u),n.aspectWrapper.appendChild(o)):n.aspectWrapper.appendChild(u)}(i,t);t=f.addQueryString(t,{img:1});n.setAttribute("data-iframely-url",t);new e(i);r.trigger("load",n)}});r.on("message",function(n,t){var i;"widgetRendered"===t.method&&(s(n),(i=o(n))&&i.deactivate());"begin-waiting-widget-render"===t.method&&(i=o(n))&&i.clearLoadingTimeout();"end-waiting-widget-render"===t.method&&(i=o(n))&&i.registerLoadingTimeout()});u=[];e.prototype.iframeOnLoad=function(){if(this.loadCount++,2===this.loadCount){this.deactivate();var n=this;setTimeout(function(){s(n.widget)},r.LAZY_IFRAME_FADE_TIMEOUT)}};e.prototype.deactivate=function(){var n;this.clearLoadingTimeout();((n=h(this))||0===n)&&u.splice(n,1)};e.prototype.clearLoadingTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId);this.timeoutId=null};e.prototype.registerLoadingTimeout=function(){if(!this.timeoutId){var n=this;this.timeoutId=setTimeout(function(){n.iframeOnLoad()},r.LAZY_IFRAME_SHOW_TIMEOUT)}}},function(n,t,i){var u=i(1),r=i(0);r.on("load",function(n){if(!n)for(var i=document.querySelectorAll("iframe[data-iframely-url]"),t=0;t<i.length;t++)r.trigger("load",i[t])});r.on("load",function(n){n&&"IFRAME"===n.nodeName&&n.hasAttribute("data-iframely-url")&&!n.hasAttribute("data-img")&&!n.getAttribute("src")&&function(n){var i=u.getWidget(n),t=n.getAttribute("data-iframely-url");i&&t&&(t=u.getEndpoint(t,{lazy:r.config.intersection,v:r.VERSION,app:1}));n.setAttribute("src",t);n.removeAttribute("data-iframely-url");r.trigger("iframe-ready",n)}(n)})},function(n,t,i){var r=i(0);r.on("message",function(n,t){"cancelWidget"===t.method&&r.cancelWidget(n)});r.cancelWidget=function(n){var t,i,u,f;n?(t=n.maxWidthWrapper&&n.maxWidthWrapper.parentNode,i=n.maxWidthWrapper,r.config&&r.config.parent&&(u=function(n,t){for(var i=!1;!i&&n.parentNode;)i=(n=n.parentNode).className&&n.className.split(" ").indexOf(t)>=0;return i&&n}(n.maxWidthWrapper,r.config.parent),u&&(t=u.parentNode,i=u)),n.url&&(f=n.iframe&&(n.iframe.textContent||n.iframe.innerText),r.triggerAsync("cancel",n.url,t,f,i.nextSibling)),t.removeChild(i)):console.warn("iframely.cancelWidget called without widget param")}},function(n,t,i){function o(n,t){t&&n&&n.iframe?t["border-radius"]?(t.overflow="hidden",r.setStyles(n.aspectWrapper,t)):r.setStyles(n.iframe,t):!t&&n&&n.iframe&&(r.setStyles(n.aspectWrapper,f),r.setStyles(n.iframe,e))}var r=i(1),u=i(0),f,e;u.on("message",function(n,t){var i,f;("setIframelyWidgetSize"===t.method||"resize"===t.method||"setIframelyEmbedData"===t.method)&&(i=null,t.data&&t.data.media&&t.data.media.frame_style?(t.data.media.frame_style.split(";").forEach(function(n){if(""!==n.trim()&&n.indexOf(":")>-1){var t=n.split(":");2===t.length&&((i=i||{})[t[0].trim()]=t[1].trim())}}),o(n,i)):"setIframelyEmbedData"===t.method&&o(n,null),f=t.data&&t.data.media,!f&&t.height&&(f={height:t.height,"max-width":"keep"}),function(n,t){var i,s;if(t&&Object.keys(t).length>0&&n){var f=function(n){var i=n.iframe&&n.iframe.style.border||n.aspectWrapper&&n.aspectWrapper.style.border,t=i&&i.match(/(\d+)px/)||0;return t&&(t=parseInt(t[1]),t*=2),t}(n),e=window.getComputedStyle&&window.getComputedStyle(n.iframe).getPropertyValue("height"),o=t["max-width"];"number"==typeof o&&(o+=f);r.setStyles(n.maxWidthWrapper,{"max-width":o,"min-width":t["min-width"]&&t["min-width"]+f,width:t.width&&t.width+f});t.scrolling&&n.iframe&&n.iframe.setAttribute("scrolling",t.scrolling);i=t["aspect-ratio"];(i||t.height)&&r.setStyles(n.aspectWrapper,{paddingBottom:i?Math.round(1e5/i)/1e3+"%":0,paddingTop:i&&t["padding-bottom"],height:i?0:t.height&&t.height+f});s=window.getComputedStyle&&window.getComputedStyle(n.iframe).getPropertyValue("height");e&&e!==s&&u.triggerAsync("heightChanged",n.iframe,e,s)}}(n,f))});f={border:"","border-radius":"","box-shadow":"",overflow:""};e={border:"0","border-radius":"","box-shadow":"",overflow:""}},function(n,t,i){var r=i(0);r.on("message",function(n,t){"open-href"!==t.method&&"click"!==t.method||r.trigger(t.method,t.href)});r.on("open-href",function(n){r.triggerAsync("click",n);0===n.indexOf(window.location.origin)?window.location.href=n:window.open(n,"_blank","noopener")})},function(n,t,i){var r=i(0);r.on("message",function(n,t){"setIframelyEmbedOptions"===t.method&&r.trigger("options",n,t.data)})},function(n,t,i){var r=i(0);r.widgets=r.widgets||{};r.widgets.load=r.load;r.events||(r.events={},r.events.on=r.on,r.events.trigger=r.trigger);r.on("cancel",function(n,t,i,r){if(n&&t&&i&&""!==i){var u=document.createElement("a");u.setAttribute("href",n);u.setAttribute("target","_blank");u.setAttribute("rel","noopener");u.textContent=i;r?t.insertBefore(u,r):t.appendChild(u)}})},]);