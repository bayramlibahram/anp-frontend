(function(n){n.fn.niceSelect=function(t){function i(t){t.after(n("<div><\/div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"><\/span><ul class="list"><\/ul>'));var i=t.next(),u=t.find("option"),r=t.find("option:selected");i.find(".current").html(r.data("display")||r.text());u.each(function(){var t=n(this),r=t.data("display");i.find("ul").append(n("<li><\/li>").attr("data-value",t.val()).attr("data-display",r||null).addClass("option"+(t.is(":selected")?" selected":"")+(t.is(":disabled")?" disabled":"")).html(t.text()))})}if(typeof t=="string")return t=="update"?this.each(function(){var r=n(this),t=n(this).next(".nice-select"),u=t.hasClass("open");t.length&&(t.remove(),i(r),u&&r.next().trigger("click"))}):t=="destroy"?(this.each(function(){var i=n(this),t=n(this).next(".nice-select");t.length&&(t.remove(),i.css("display",""))}),n(".nice-select").length==0&&n(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;this.hide();this.each(function(){var t=n(this);t.next().hasClass("nice-select")||i(t)});n(document).off(".nice_select");n(document).on("click.nice_select",".nice-select",function(){var t=n(this);n(".nice-select").not(t).removeClass("open");t.toggleClass("open");t.hasClass("open")?(t.find(".option"),t.find(".focus").removeClass("focus"),t.find(".selected").addClass("focus")):t.focus()});n(document).on("click.nice_select",function(t){n(t.target).closest(".nice-select").length===0&&n(".nice-select").removeClass("open").find(".option")});n(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(){var t=n(this),i=t.closest(".nice-select"),r;i.find(".selected").removeClass("selected");t.addClass("selected");r=t.data("display")||t.text();i.find(".current").text(r);i.prev("select").val(t.data("value")).trigger("change")});n(document).on("keydown.nice_select",".nice-select",function(t){var i=n(this),r=n(i.find(".focus")||i.find(".list .option.selected")),u,f;if(t.keyCode==32||t.keyCode==13)return i.hasClass("open")?r.trigger("click"):i.trigger("click"),!1;if(t.keyCode==40)return i.hasClass("open")?(u=r.nextAll(".option:not(.disabled)").first(),u.length>0&&(i.find(".focus").removeClass("focus"),u.addClass("focus"))):i.trigger("click"),!1;if(t.keyCode==38)return i.hasClass("open")?(f=r.prevAll(".option:not(.disabled)").first(),f.length>0&&(i.find(".focus").removeClass("focus"),f.addClass("focus"))):i.trigger("click"),!1;if(t.keyCode==27)i.hasClass("open")&&i.trigger("click");else if(t.keyCode==9&&i.hasClass("open"))return!1});var r=document.createElement("a").style;return r.cssText="pointer-events:auto",r.pointerEvents!=="auto"&&n("html").addClass("no-csspointerevents"),this}})(jQuery);